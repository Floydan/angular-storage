!function(){"use strict";function e(e){this.get=function(t){return e.get(t)},this.set=function(t,r){return e.put(t,r)},this.remove=function(t){return e.remove(t)},this.keys=function(){var e=[];return document.cookie&&(e=document.cookie.split(";").map(function(e){return e.split("=")[0]})),e},this.clear=function(){var t=e.getAll();angular.forEach(t,function(t,r){e.remove(r)})}}function t(e,t){function r(e,r,o,i){this.namespace=e||null,(angular.isUndefined(i)||null===i)&&(i=!0),this.useCache=i,this.delimiter=o||".",this.inMemoryCache={},this.storage=t.get(r||"localStorage")}return r.prototype.getNamespacedKey=function(e){return this.namespace?[this.namespace,e].join(this.delimiter):e},r.prototype.set=function(e,t){this.useCache&&(this.inMemoryCache[e]=t),this.storage.set(this.getNamespacedKey(e),JSON.stringify(t))},r.prototype.get=function(t){var r=null;if(this.useCache&&t in this.inMemoryCache)return this.inMemoryCache[t];var o=this.storage.get(this.getNamespacedKey(t));try{r="undefined"==typeof o||"undefined"===o?void 0:JSON.parse(o),this.useCache&&(this.inMemoryCache[t]=r)}catch(i){e.error("Error parsing saved value",i),this.remove(t)}return r},r.prototype.remove=function(e){this.useCache&&(this.inMemoryCache[e]=null),this.storage.remove(this.getNamespacedKey(e))},r.prototype.clear=function(){this.inMemoryCache={},this.storage.clear()},r}function r(e,t){function r(t){return e.localStorage.getItem(t)}function o(t,r){return e.localStorage.setItem(t,r)}function i(t){return e.localStorage.removeItem(t)}function n(){e.localStorage.clear()}function s(){var t=[];for(var r in e.localStorage)e.localStorage.hasOwnProperty(r)&&t.push(r);return t}var a=!1;try{e.localStorage.setItem("testKey","test"),e.localStorage.removeItem("testKey"),a=!0}catch(c){a=!1}var u={get:r,set:o,remove:i,clear:n,keys:s};if(!a){var g=t.get("cookieStorage");u.get=g.get,u.set=g.set,u.remove=g.remove,u.clear=g.clear}return u}function o(e,t){function r(t){return e.sessionStorage.getItem(t)}function o(t,r){return e.sessionStorage.setItem(t,r)}function i(t){return e.sessionStorage.removeItem(t)}function n(){e.sessionStorage.clear()}function s(){var t=[];for(var r in e.sessionStorage)e.sessionStorage.hasOwnProperty(r)&&t.push(r);return t}var a=!1;try{e.sessionStorage.setItem("testKey","test"),e.sessionStorage.removeItem("testKey"),a=!0}catch(c){a=!1}var u={get:r,set:o,remove:i,clear:n,keys:s};if(!a){var g=t.get("cookieStorage");u.get=g.get,u.set=g.set,u.remove=g.remove,u.clear=g.clear}return u}function i(){function e(e){var r=new e(t.prefix,t.storage,t.delimiter,t.useCache);return r.getNamespacedStore=function(t,r,o,i){return new e(t,r,o,i)},r}var t=this;t.storage="localStorage",t.caching=!0,t.prefix="wise",t.delimiter=".",t.cookie={expiry:30,path:"/"},t.setStore=function(e){return e&&angular.isString(e)&&(t.storage=e),this},t.setCaching=function(e){return t.caching=!!e,this},t.setPrefix=function(e){return e&&angular.isString(e)&&(t.prefix=e),this},t.setDelimiter=function(e){return e&&angular.isString(e)&&(t.delimiter=e),this},t.setStorageCookie=function(e,r,o){return t.cookie.expiry=e||t.cookie.expiry,t.cookie.path=r||t.cookie.path,t.cookie.domain=o||t.cookie.domain,this},t.$get=e,e.$inject=["InternalStore"]}angular.module("wise-storage",["wise-storage.store"]),angular.module("wise-storage.cookieStorage",[]).service("cookieStorage",e),e.$inject=["$cookies"],angular.module("wise-storage.internalStore",["wise-storage.localStorage","wise-storage.sessionStorage"]).factory("InternalStore",t),t.$inject=["$log","$injector"],angular.module("wise-storage.localStorage",["wise-storage.cookieStorage"]).service("localStorage",r),r.$inject=["$window","$injector"],angular.module("wise-storage.sessionStorage",["wise-storage.cookieStorage"]).service("sessionStorage",o),o.$inject=["$window","$injector"],angular.module("wise-storage.store",["wise-storage.internalStore"]).provider("wiseStore",i)}();